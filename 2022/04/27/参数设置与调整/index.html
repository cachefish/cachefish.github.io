<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.0.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"cachefish.github.io","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="Linux内核中的TCP参数&#x2F;proc&#x2F;sys&#x2F;net&#x2F;ipv4&#x2F;存放着TCP参数的文件,目录中的内容用来添加网络设置，在其中的许多设置，可以用来阻止对系统的攻击，或用来设置系统的路由功能。  &#x2F;proc&#x2F;sys&#x2F;net&#x2F;ipv4&#x2F;tcp_syn_retries客户端发起SYN连接，如果超时会进行重">
<meta property="og:type" content="article">
<meta property="og:title" content="linux tcp">
<meta property="og:url" content="https://cachefish.github.io/2022/04/27/%E5%8F%82%E6%95%B0%E8%AE%BE%E7%BD%AE%E4%B8%8E%E8%B0%83%E6%95%B4/index.html">
<meta property="og:site_name" content="cachecatのBlog">
<meta property="og:description" content="Linux内核中的TCP参数&#x2F;proc&#x2F;sys&#x2F;net&#x2F;ipv4&#x2F;存放着TCP参数的文件,目录中的内容用来添加网络设置，在其中的许多设置，可以用来阻止对系统的攻击，或用来设置系统的路由功能。  &#x2F;proc&#x2F;sys&#x2F;net&#x2F;ipv4&#x2F;tcp_syn_retries客户端发起SYN连接，如果超时会进行重">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2022-04-27T11:30:00.000Z">
<meta property="article:modified_time" content="2022-04-27T07:59:43.521Z">
<meta property="article:tag" content="linux tcp">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://cachefish.github.io/2022/04/27/%E5%8F%82%E6%95%B0%E8%AE%BE%E7%BD%AE%E4%B8%8E%E8%B0%83%E6%95%B4/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>linux tcp | cachecatのBlog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">cachecatのBlog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">localhost</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签<span class="badge">19</span></a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类<span class="badge">19</span></a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档<span class="badge">49</span></a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://cachefish.github.io/2022/04/27/%E5%8F%82%E6%95%B0%E8%AE%BE%E7%BD%AE%E4%B8%8E%E8%B0%83%E6%95%B4/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/2229.jfif">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="来世做春风，浪漫且自由">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="cachecatのBlog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          linux tcp
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2022-04-27 19:30:00 / 修改时间：15:59:43" itemprop="dateCreated datePublished" datetime="2022-04-27T19:30:00+08:00">2022-04-27</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/linux-tcp/" itemprop="url" rel="index"><span itemprop="name">linux tcp</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h4 id="Linux内核中的TCP参数"><a href="#Linux内核中的TCP参数" class="headerlink" title="Linux内核中的TCP参数"></a>Linux内核中的TCP参数</h4><p>&#x2F;proc&#x2F;sys&#x2F;net&#x2F;ipv4&#x2F;存放着TCP参数的文件,目录中的内容用来添加网络设置，在其中的许多设置，可以用来阻止对系统的攻击，或用来设置系统的路由功能。</p>
<hr>
<h6 id="x2F-proc-x2F-sys-x2F-net-x2F-ipv4-x2F-tcp-syn-retries"><a href="#x2F-proc-x2F-sys-x2F-net-x2F-ipv4-x2F-tcp-syn-retries" class="headerlink" title="&#x2F;proc&#x2F;sys&#x2F;net&#x2F;ipv4&#x2F;tcp_syn_retries"></a>&#x2F;proc&#x2F;sys&#x2F;net&#x2F;ipv4&#x2F;tcp_syn_retries</h6><p>客户端发起SYN连接，如果超时会进行重传，重传的次数<br>对于一个新建连接，内核要发送多少个SYN连接请求才决定放弃。不应该大于255,默认值是5，对应于180毫秒左右时间。（对于大负载而物理通信良好的网络来说，这个值偏高，可以修改为2。这个值仅仅是针对对外的连接，对进来的连接，是由tcp_retries1决定）<br>默认值 5 建议值 1</p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sysctl net.ipv4.<span class="attribute">tcp_syn_retries</span>=2</span><br></pre></td></tr></table></figure>
<h6 id="tcp-synack-retries"><a href="#tcp-synack-retries" class="headerlink" title="tcp_synack_retries"></a>tcp_synack_retries</h6><p>对于远端的连接请求SYN，内核会发送SYN+ACK数据包，以确认收到上一个SYN连接请求包。这是所谓的三次握手机制的第二个步骤。这里决定内核再放弃之前所发送出的SYN+ACK数目。不应该大于255，默认值是5，对应于180秒左右时间。<br>默认值 5 建议值 1</p>
<h6 id="tcp-keepalive-time"><a href="#tcp-keepalive-time" class="headerlink" title="tcp_keepalive_time"></a>tcp_keepalive_time</h6><p>TCP发送keepalive探测消息的间隔时间（秒），用于确认TCP连接是否有效。防止两边建立连接但不发送数据的攻击。</p>
<h6 id="net-ipv4-tcp-window-scaling"><a href="#net-ipv4-tcp-window-scaling" class="headerlink" title="net.ipv4.tcp_window_scaling"></a>net.ipv4.tcp_window_scaling</h6><p>启用或关闭窗口扩大因子选项</p>
<h6 id="net-ipv4-tcp-sack"><a href="#net-ipv4-tcp-sack" class="headerlink" title="net.ipv4.tcp_sack"></a>net.ipv4.tcp_sack</h6><p>启用或关闭选择确认（Selective Acknowledgement， SACK）选项</p>
<h6 id="net-ipv4-tcp-timestamps-x3D-1"><a href="#net-ipv4-tcp-timestamps-x3D-1" class="headerlink" title="net.ipv4.tcp_timestamps &#x3D; 1"></a>net.ipv4.tcp_timestamps &#x3D; 1</h6><p>说明：<br>该参数控制RFC 1323 时间戳与窗口缩放选项。默认情况下，启用时间戳与<br>窗口缩放，但是可以使用标志位进行控制。0位控制窗口缩放，1 位控制时间戳。<br>值为0（禁用 RFC 1323选项）<br>值为1（仅启用窗口缩放）<br>值为2（仅启用时间戳）<br>值为3（两个选项均启用）</p>
<h6 id="net-ipv4-tcp-timestamps-x3D-0"><a href="#net-ipv4-tcp-timestamps-x3D-0" class="headerlink" title="net.ipv4.tcp_timestamps&#x3D;0"></a>net.ipv4.tcp_timestamps&#x3D;0</h6><p>说明：时间戳可以避免序列号的卷绕。一个1Gbps的链路肯定会遇到以前用过的序列号。时间戳能够让内核接受这种“异常”的数据包。这里需要将其关掉。</p>
<p>值为0（禁用时间戳）<br>值为1（启用时间戳）</p>
<p>只有客户端和服务端都开启时间戳的情况下，才会出现能ping通不能建立tcp三次握手的情况，所以做为提供服务的公司，不可能保证所有的用户都关闭时间戳，这个功能，所以我们必须关闭时间戳，这样才能给所用用户提供正常的服务。</p>
<h6 id="net-ipv4-tcp-window-scaling-x3D-1"><a href="#net-ipv4-tcp-window-scaling-x3D-1" class="headerlink" title="net.ipv4.tcp_window_scaling &#x3D; 1"></a>net.ipv4.tcp_window_scaling &#x3D; 1</h6><h6 id="net-ipv4-tcp-sack-x3D-1"><a href="#net-ipv4-tcp-sack-x3D-1" class="headerlink" title="net.ipv4.tcp_sack &#x3D; 1"></a>net.ipv4.tcp_sack &#x3D; 1</h6><p>使用 Selective ACK﹐它可以用来查找特定的遗失的数据报— 因此有助于快速恢复状态。该文件表示是否启用有选择的应答（Selective Acknowledgment），这可以通过有选择地应答乱序接收到的报文来提高性能（这样可以让发送者只发送丢失的报文段）。(对于广域网通信来说这个选项应该启用，但是这会增加对 CPU 的占用。)</p>
<h6 id="net-ipv4-tcp-fack-x3D-1"><a href="#net-ipv4-tcp-fack-x3D-1" class="headerlink" title="net.ipv4.tcp_fack &#x3D; 1"></a>net.ipv4.tcp_fack &#x3D; 1</h6><p>打开FACK(Forward ACK)拥塞避免和快速重传功能。(注意，当tcp_sack设置为0的时候，这个值即使设置为1也无效)</p>
<h6 id="net-ipv4-tcp-retrans-collapse-x3D-1"><a href="#net-ipv4-tcp-retrans-collapse-x3D-1" class="headerlink" title="net.ipv4.tcp_retrans_collapse &#x3D; 1"></a>net.ipv4.tcp_retrans_collapse &#x3D; 1</h6><h6 id="net-ipv4-tcp-syn-retries-x3D-5"><a href="#net-ipv4-tcp-syn-retries-x3D-5" class="headerlink" title="net.ipv4.tcp_syn_retries &#x3D; 5"></a>net.ipv4.tcp_syn_retries &#x3D; 5</h6><p>对于一个新建连接，内核要发送多少个 SYN 连接请求才决定放弃。不应该大于255，默认值是5，对应于180秒左右时间。(对于大负载而物理通信良好的网络而言,这个值偏高,可修改为2.这个值仅仅是针对对外的连接,对进来的连接,是由tcp_retries1 决定的)</p>
<h6 id="net-ipv4-tcp-synack-retries-x3D-5"><a href="#net-ipv4-tcp-synack-retries-x3D-5" class="headerlink" title="net.ipv4.tcp_synack_retries &#x3D; 5"></a>net.ipv4.tcp_synack_retries &#x3D; 5</h6><p>tcp_synack_retries显示或设定 Linux 核心在回应 SYN 要求时会尝试多少次重新发送初始 SYN,ACK 封包后才决定放弃。这是所谓的三段交握 (threeway handshake) 的第二个步骤。即是说系统会尝试多少次去建立由远端启始的 TCP 连线。tcp_synack_retries 的值必须为正整数，并不能超过 255。因为每一次重新发送封包都会耗费约 30 至 40 秒去等待才决定尝试下一次重新发送或决定放弃。tcp_synack_retries 的缺省值为 5，即每一个连线要在约 180 秒 (3 分钟) 后才确定逾时.</p>
<h6 id="net-ipv4-tcp-max-orphans-x3D-131072"><a href="#net-ipv4-tcp-max-orphans-x3D-131072" class="headerlink" title="net.ipv4.tcp_max_orphans &#x3D; 131072"></a>net.ipv4.tcp_max_orphans &#x3D; 131072</h6><p>系统所能处理不属于任何进程的TCP sockets最大数量。假如超过这个数量，那么不属于任何进程的连接会被立即reset，并同时显示警告信息。之所以要设定这个限制﹐纯粹为了抵御那些简单的 DoS 攻击﹐千万不要依赖这个或是人为的降低这个限制，更应该增加这个值(如果增加了内存之后)。每个孤儿套接字最多能够吃掉你64K不可交换的内存。</p>
<h6 id="net-ipv4-tcp-max-tw-buckets-x3D-5000"><a href="#net-ipv4-tcp-max-tw-buckets-x3D-5000" class="headerlink" title="net.ipv4.tcp_max_tw_buckets &#x3D; 5000"></a>net.ipv4.tcp_max_tw_buckets &#x3D; 5000</h6><p>表示系统同时保持TIME_WAIT套接字的最大数量，如果超过这个数字，TIME_WAIT套接字将立刻被清除并打印警告信息。默认为180000。设为较小数值此项参数可以控制TIME_WAIT套接字的最大数量，避免服务器被大量的TIME_WAIT套接字拖死。</p>
<h6 id="net-ipv4-tcp-keepalive-time-x3D-7200"><a href="#net-ipv4-tcp-keepalive-time-x3D-7200" class="headerlink" title="net.ipv4.tcp_keepalive_time &#x3D; 7200"></a>net.ipv4.tcp_keepalive_time &#x3D; 7200</h6><h6 id="net-ipv4-tcp-keepalive-probes-x3D-9"><a href="#net-ipv4-tcp-keepalive-probes-x3D-9" class="headerlink" title="net.ipv4.tcp_keepalive_probes &#x3D; 9"></a>net.ipv4.tcp_keepalive_probes &#x3D; 9</h6><h6 id="net-ipv4-tcp-keepalive-intvl-x3D-75"><a href="#net-ipv4-tcp-keepalive-intvl-x3D-75" class="headerlink" title="net.ipv4.tcp_keepalive_intvl &#x3D; 75"></a>net.ipv4.tcp_keepalive_intvl &#x3D; 75</h6><p>用实例进行说明上述三个参数：</p>
<p>如果某个TCP连接在idle 2个小时后,内核才发起probe(探查).如果probe 9次(每次75秒既tcp_keepalive_intvl值)不成功,内核才彻底放弃,认为该连接已失效。</p>
<h6 id="net-ipv4-tcp-retries1-x3D-3"><a href="#net-ipv4-tcp-retries1-x3D-3" class="headerlink" title="net.ipv4.tcp_retries1 &#x3D; 3"></a>net.ipv4.tcp_retries1 &#x3D; 3</h6><p>放弃回应一个TCP连接请求前﹐需要进行多少次重试。RFC 规定最低的数值是3﹐这也是默认值﹐根据RTO的值大约在3秒 - 8分钟之间。(注意:这个值同时还决定进入的syn连接)</p>
<p>(第二种解释：它表示的是TCP传输失败时不检测路由表的最大的重试次数，当超过了这个值，我们就需要检测路由表了)</p>
<h6 id="net-ipv4-tcp-retries2-x3D-15"><a href="#net-ipv4-tcp-retries2-x3D-15" class="headerlink" title="net.ipv4.tcp_retries2 &#x3D; 15"></a>net.ipv4.tcp_retries2 &#x3D; 15</h6><p>在丢弃激活(已建立通讯状况)的TCP连接之前﹐需要进行多少次重试。默认值为15，根据RTO的值来决定，相当于13-30分钟(RFC1122规定，必须大于100秒).(这个值根据目前的网络设置,可以适当地改小,我的网络内修改为了5)</p>
<p>(第二种解释：表示重试最大次数，只不过这个值一般要比上面的值大。和上面那个不同的是，当重试次数超过这个值，我们就必须放弃重试了)</p>
<h6 id="net-ipv4-tcp-orphan-retries"><a href="#net-ipv4-tcp-orphan-retries" class="headerlink" title="net.ipv4.tcp_orphan_retries"></a>net.ipv4.tcp_orphan_retries</h6><p>主要是针对孤立的socket(也就是已经从进程上下文中删除了，可是还有一些清理工作没有完成).对于这种socket，我们重试的最大的次数就是它</p>
<h6 id="net-ipv4-tcp-fin-timeout-x3D-30"><a href="#net-ipv4-tcp-fin-timeout-x3D-30" class="headerlink" title="net.ipv4.tcp_fin_timeout &#x3D; 30"></a>net.ipv4.tcp_fin_timeout &#x3D; 30</h6><p>表示如果套接字由本端要求关闭，这个参数决定了它保持在FIN-WAIT-2状态的时间</p>
<h6 id="net-ipv4-tcp-tw-recycle-x3D-1"><a href="#net-ipv4-tcp-tw-recycle-x3D-1" class="headerlink" title="net.ipv4.tcp_tw_recycle &#x3D; 1"></a>net.ipv4.tcp_tw_recycle &#x3D; 1</h6><p>表示开启TCP连接中TIME-WAITsockets的快速回收，默认为0，表示关闭</p>
<h6 id="net-ipv4-tcp-stdurg-x3D-0"><a href="#net-ipv4-tcp-stdurg-x3D-0" class="headerlink" title="net.ipv4.tcp_stdurg &#x3D; 0"></a>net.ipv4.tcp_stdurg &#x3D; 0</h6><h6 id="net-ipv4-tcp-rfc1337-x3D-0"><a href="#net-ipv4-tcp-rfc1337-x3D-0" class="headerlink" title="net.ipv4.tcp_rfc1337 &#x3D; 0"></a>net.ipv4.tcp_rfc1337 &#x3D; 0</h6><h6 id="net-ipv4-tcp-max-syn-backlog-x3D-8192"><a href="#net-ipv4-tcp-max-syn-backlog-x3D-8192" class="headerlink" title="net.ipv4.tcp_max_syn_backlog &#x3D; 8192"></a>net.ipv4.tcp_max_syn_backlog &#x3D; 8192</h6><p>表示SYN队列的长度，默认为1024，加大队列长度为8192，可以容纳更多等待连接的网络连接数。</p>
<p>(第二种解释：端口最大backlog 内核限制。此参数限制服务端应用程序 可以设置的端口最大backlog 值 (对应于端口的 syn_backlog 和 backlog 队列长度)。动机是在内存有限的服务器上限制&#x2F;避免应用程序配置超大 backlog 值而耗尽内核内存。如果应用程序设置 backlog 大于此值，操作系统将自动将之限制到此值。)</p>
<h6 id="net-ipv4-tcp-abort-on-overflow-x3D-0"><a href="#net-ipv4-tcp-abort-on-overflow-x3D-0" class="headerlink" title="net.ipv4.tcp_abort_on_overflow &#x3D; 0"></a>net.ipv4.tcp_abort_on_overflow &#x3D; 0</h6><p>当 tcp 建立连接的 3 路握手完成后，将连接置入ESTABLISHED 状态并交付给应用程序的 backlog 队列时，会检查 backlog 队列是否已满。若已满，通常行为是将连接还原至 SYN_ACK状态，以造成 3 路握手最后的 ACK 包意外丢失假象 —— 这样在客户端等待超时后可重发 ACK —— 以再次尝试进入ESTABLISHED 状态 —— 作为一种修复&#x2F;重试机制。如果启用tcp_abort_on_overflow 则在检查到 backlog 队列已满时，直接发 RST 包给客户端终止此连接 —— 此时客户端程序会收到 104Connection reset by peer 错误。</p>
<p>警告：启用此选项可能导致高峰期用户访问体验到 104:Connection reset by peer 或白屏错误(视浏览器而定)。在考虑启用此选项前应先设法优化提高服务端应用程序的性能，使之能更快接管、处理连接。</p>
<h6 id="net-ipv4-tcp-syncookies-x3D-1"><a href="#net-ipv4-tcp-syncookies-x3D-1" class="headerlink" title="net.ipv4.tcp_syncookies &#x3D; 1"></a>net.ipv4.tcp_syncookies &#x3D; 1</h6><p> 在 tcp 建立连接的 3 路握手过程中，当服务端收到最初的 SYN 请求时，会检查应用程序的 syn_backlog 队列是否已满。若已满，通常行为是丢弃此 SYN 包。若未满，会再检查应用程序的 backlog 队列是否已满。若已满并且系统根据历史记录判断该应用程序不会较快消耗连接时，则丢弃此 SYN 包。如果启用 tcp_syncookies 则在检查到 syn_backlog 队列已满时，不丢弃该 SYN 包，而改用 syncookie 技术进行 3 路握手。</p>
<p>警告：使用 syncookie 进行握手时，因为该技术挪用了 tcp_options 字段空间，会强制关闭 tcp 高级流控技术而退化成原始 tcp 模式。此模式会导致封包 丢失时 对端 要等待 MSL 时间来发现丢包事件并重试，以及关闭连接时 TIME_WAIT 状态保持 2MSL 时间。该技术应该仅用于保护syn_flood 攻击。如果在正常服务器环境中服务器负载较重导致 syn_backlog 和 backlog 队列满时，应优化服务端应用程序的负载能力，加大应用程序 backlog 值。不过，所幸该参数是自动值，仅在 syn_backlog 队列满时才会触发 (在队列恢复可用时此行为关闭)。</p>
<p>Ø  服务端应用程序设置端口backlog 值，内核理论上将允许该端口最大同时接收 2*backlog 个并发连接”请求”(不含已被应用程序接管的连接) ——分别存放在 syn_backlog 和 backlog 队列—— 每个队列的长度为backlog 值。syn_backlog 队列存储 SYN_ACK 状态的连接，backlog 则存储 ESTABLISHED 状态但尚未被应用程序接管的连接。</p>
<p>Ø  syn_backlog 队列实际上是个 hash 表，并且 hash 表大小为 2 的次方。所以实际 syn_backlog 的队列长度要略大于应用程序设置的 backlog 值—— 取对应 2 的次方值。</p>
<p>Ø  当 backlog 值较小，而高峰期并发连接请求超高时，tcp 建立连接的三路握手 网络时延将成为瓶颈 —— 并发连接超高时，syn_backlog 队列将被充满而导致 <code>can’t connect</code> 错误。此时，再提高服务端应用程序的吞吐能力已不起作用，因为连接尚未建立，服务端应用程序并不能接管和处理这些连接—— 而是需要加大backlog 值 (syn_backlog 队列长度) 来缓解此问题。</p>
<p>Ø  启用 syncookie 虽然也可以解决超高并发时的<code>can’t connect</code> 问题，但会导致 TIME_WAIT 状态 fallback 为保持 2MSL 时间，高峰期时会导致客户端无可复用连接而无法连接服务器 (tcp 连接复用是基于 &lt;src_ip, src_port, dst_ip, dst_port&gt; 四元组值必须不相同，就访问同一个目标服务器而言，&lt;src_ip, dst_ip, dst_port&gt; 三元组值不变，所以此时可用的连接数限制为仅src_port 所允许数目，这里处于 TIME_WAIT 状态的相同 src_port 连接不可复用。Linux 系统甚至更严格，只使用了 &lt;src_ip, src_port, dst_ip&gt; 三元组…)。故不建议依赖syncookie。</p>
<h6 id="net-ipv4-tcp-orphan-retries-x3D-0"><a href="#net-ipv4-tcp-orphan-retries-x3D-0" class="headerlink" title="net.ipv4.tcp_orphan_retries &#x3D; 0"></a>net.ipv4.tcp_orphan_retries &#x3D; 0</h6><p>本端试图关闭TCP连接之前重试多少次。缺省值是7，相当于50秒~16分钟(取决于RTO)。如果你的机器是一个重载的WEB服务器，你应该考虑减低这个值，因为这样的套接字会消耗很多重要的资源。参见tcp_max_orphans</p>
<h6 id="net-ipv4-tcp-sack-x3D-1-1"><a href="#net-ipv4-tcp-sack-x3D-1-1" class="headerlink" title="net.ipv4.tcp_sack &#x3D; 1"></a>net.ipv4.tcp_sack &#x3D; 1</h6><p>  SACK(SelectiveAcknowledgment，选择性确认)技术，使TCP只重新发送交互过程中丢失的包，不用发送后续所有的包，而且提供相应机制使接收方能告诉发送方哪些数据丢失，哪些数据重发了，哪些数据已经提前收到了。如此大大提高了客户端与服务器端数据交互的效率。</p>
<h6 id="net-ipv4-tcp-reordering-x3D-3"><a href="#net-ipv4-tcp-reordering-x3D-3" class="headerlink" title="net.ipv4.tcp_reordering &#x3D; 3"></a>net.ipv4.tcp_reordering &#x3D; 3</h6><h6 id="net-ipv4-tcp-ecn-x3D-2"><a href="#net-ipv4-tcp-ecn-x3D-2" class="headerlink" title="net.ipv4.tcp_ecn &#x3D; 2"></a>net.ipv4.tcp_ecn &#x3D; 2</h6><h6 id="net-ipv4-tcp-dsack-x3D-1"><a href="#net-ipv4-tcp-dsack-x3D-1" class="headerlink" title="net.ipv4.tcp_dsack &#x3D; 1"></a>net.ipv4.tcp_dsack &#x3D; 1</h6><p>允许TCP发送”两个完全相同”的SACK。</p>
<h6 id="net-ipv4-tcp-mem-x3D-178368-237824-356736"><a href="#net-ipv4-tcp-mem-x3D-178368-237824-356736" class="headerlink" title="net.ipv4.tcp_mem &#x3D; 178368  237824     356736"></a>net.ipv4.tcp_mem &#x3D; 178368  237824     356736</h6><p>同样有3个值,意思是:<br>net.ipv4.tcp_mem[0]: 低于此值,TCP没有内存压力.<br>net.ipv4.tcp_mem[1]: 在此值下,进入内存压力阶段.<br>net.ipv4.tcp_mem[2]: 高于此值,TCP拒绝分配socket.</p>
<h6 id="net-ipv4-tcp-wmem-x3D-4096-16384-4194304"><a href="#net-ipv4-tcp-wmem-x3D-4096-16384-4194304" class="headerlink" title="net.ipv4.tcp_wmem &#x3D; 4096   16384       4194304"></a>net.ipv4.tcp_wmem &#x3D; 4096   16384       4194304</h6><p>TCP写buffer,可参考的优化值: 8192436600 873200</p>
<h6 id="net-ipv4-tcp-rmem-x3D-4096-87380-4194304"><a href="#net-ipv4-tcp-rmem-x3D-4096-87380-4194304" class="headerlink" title="net.ipv4.tcp_rmem &#x3D; 4096     87380       4194304"></a>net.ipv4.tcp_rmem &#x3D; 4096     87380       4194304</h6><p>TCP读buffer,可参考的优化值:32768  436600  873200</p>
<h6 id="net-ipv4-tcp-app-win-x3D-31"><a href="#net-ipv4-tcp-app-win-x3D-31" class="headerlink" title="net.ipv4.tcp_app_win &#x3D; 31"></a>net.ipv4.tcp_app_win &#x3D; 31</h6><h6 id="net-ipv4-tcp-adv-win-scale-x3D-2"><a href="#net-ipv4-tcp-adv-win-scale-x3D-2" class="headerlink" title="net.ipv4.tcp_adv_win_scale &#x3D; 2"></a>net.ipv4.tcp_adv_win_scale &#x3D; 2</h6><h6 id="net-ipv4-tcp-tw-reuse-x3D-1"><a href="#net-ipv4-tcp-tw-reuse-x3D-1" class="headerlink" title="net.ipv4.tcp_tw_reuse &#x3D; 1"></a>net.ipv4.tcp_tw_reuse &#x3D; 1</h6><p>表示开启重用。允许将TIME-WAITsockets重新用于新的TCP连接，默认为0，表示关闭；</p>
<h6 id="net-ipv4-tcp-frto-x3D-2"><a href="#net-ipv4-tcp-frto-x3D-2" class="headerlink" title="net.ipv4.tcp_frto &#x3D; 2"></a>net.ipv4.tcp_frto &#x3D; 2</h6><p> 开启F-RTO,一个针对TCP重传超时(RTOs)的增强的恢复算法。在无线环境下特别有益处，因为在这种环境下分组丢失典型地是因为随机无线电干扰而不是中间路由器组塞。参考RFC 4318了解更多的细节。</p>
<p>这个文件拥有下列值之一:</p>
<p>Ø  0 禁用。</p>
<p>Ø  1 开启基本版本的F-RTO算法。</p>
<p>Ø  2 如果流使用SACK的话，开启SACK-增强的F-TRO算法。不过当使用SACK时是基本版本也是可以使用的，因为有这种场景存在，F-RTO和开启SACK的TCP流分组计数合作不好。</p>
<h6 id="net-ipv4-tcp-frto-response-x3D-0"><a href="#net-ipv4-tcp-frto-response-x3D-0" class="headerlink" title="net.ipv4.tcp_frto_response &#x3D; 0"></a>net.ipv4.tcp_frto_response &#x3D; 0</h6><p> 当F-RTO侦测到TCP超时是伪的时(例如，通过设置了更长的超时值避免了超时),TCP有几个选项决定接下来如何去做。可能的值是：</p>
<p>Ø  1 基于速率减半;平滑保守的响应，导致一个RTT之后拥塞窗口(cwnd)和慢启动阀值(ssthresh)减半。</p>
<p>Ø  2非常保守的响应;不推荐这样做，因为即时有效，它和TCP的其他部分交互不好;立即减半拥塞窗口(cwnd)和慢启动阀值(ssthresh)。</p>
<p>Ø  3侵占性的响应;废弃现在已知不必要的拥塞控制措施(或略一个将引起TCP更加谨慎保守的丢失的重传);cwnd and ssthresh恢复到超时之前的值。</p>
<h6 id="net-ipv4-tcp-slow-start-after-idle-x3D-1"><a href="#net-ipv4-tcp-slow-start-after-idle-x3D-1" class="headerlink" title="net.ipv4.tcp_slow_start_after_idle &#x3D; 1"></a>net.ipv4.tcp_slow_start_after_idle &#x3D; 1</h6><p>表示拥塞窗口在经过一段空闲时间后仍然有效而不必重新初始化。</p>
<h6 id="net-ipv4-tcp-low-latency-x3D-0"><a href="#net-ipv4-tcp-low-latency-x3D-0" class="headerlink" title="net.ipv4.tcp_low_latency &#x3D; 0"></a>net.ipv4.tcp_low_latency &#x3D; 0</h6><p> 允许 TCP&#x2F;IP 协议栈适应在高吞吐量情况下低延时的情况；这个选项应该禁用。</p>
<h6 id="net-ipv4-tcp-no-metrics-save-x3D-0"><a href="#net-ipv4-tcp-no-metrics-save-x3D-0" class="headerlink" title="net.ipv4.tcp_no_metrics_save &#x3D; 0"></a>net.ipv4.tcp_no_metrics_save &#x3D; 0</h6><p>一个tcp连接关闭后,把这个连接曾经有的参数比如慢启动门限snd_sthresh,拥塞窗口snd_cwnd 还有srtt等信息保存到dst_entry中, 只要dst_entry 没有失效,下次新建立相同连接的时候就可以使用保存的参数来初始化这个连接.tcp_no_metrics_save 设置为1就是不保持这些参数(经验值),每次建立连接后都重新摸索一次. 我觉得没什么好处. 所以系统默认把它设为0。</p>
<h6 id="net-ipv4-tcp-moderate-rcvbuf-x3D-1"><a href="#net-ipv4-tcp-moderate-rcvbuf-x3D-1" class="headerlink" title="net.ipv4.tcp_moderate_rcvbuf &#x3D; 1"></a>net.ipv4.tcp_moderate_rcvbuf &#x3D; 1</h6><p>打开了TCP内存自动调整功能(1为打开、0为禁止)</p>
<h6 id="net-ipv4-tcp-tso-win-divisor-x3D-3"><a href="#net-ipv4-tcp-tso-win-divisor-x3D-3" class="headerlink" title="net.ipv4.tcp_tso_win_divisor &#x3D; 3"></a>net.ipv4.tcp_tso_win_divisor &#x3D; 3</h6><p>单个TSO段可消耗拥塞窗口的比例，默认值为3。</p>
<h6 id="net-ipv4-tcp-congestion-control-x3D-cubic"><a href="#net-ipv4-tcp-congestion-control-x3D-cubic" class="headerlink" title="net.ipv4.tcp_congestion_control &#x3D; cubic"></a>net.ipv4.tcp_congestion_control &#x3D; cubic</h6><h6 id="net-ipv4-tcp-available-congestion-control-x3D-cubic-reno"><a href="#net-ipv4-tcp-available-congestion-control-x3D-cubic-reno" class="headerlink" title="net.ipv4.tcp_available_congestion_control &#x3D; cubic reno"></a>net.ipv4.tcp_available_congestion_control &#x3D; cubic reno</h6><h6 id="net-ipv4-tcp-allowed-congestion-control-x3D-cubic-reno"><a href="#net-ipv4-tcp-allowed-congestion-control-x3D-cubic-reno" class="headerlink" title="net.ipv4.tcp_allowed_congestion_control &#x3D; cubic reno"></a>net.ipv4.tcp_allowed_congestion_control &#x3D; cubic reno</h6><p>丢包使得TCP传输速度大幅下降的主要原因是丢包重传机制，控制这一机制的就是TCP拥塞控制算法。   congestion(拥塞)</p>
<p>Linux内核中提供了若干套TCP拥塞控制算法，已加载进内核的可以通过内核参数net.ipv4.tcp_available_congestion_control看到：</p>
<p>没有加载进内核的一般是编译成了模块，可以用modprobe加载，这些算法各自适用于不同的环境。</p>
<p>Ø  reno是最基本的拥塞控制算法，也是TCP协议的实验原型。</p>
<p>Ø  bic适用于rtt较高但丢包极为罕见的情况，比如北美和欧洲之间的线路，这是2.6.8到2.6.18之间的Linux内核的默认算法。</p>
<p>Ø  cubic是修改版的bic，适用环境比bic广泛一点，它是2.6.19之后的linux内核的默认算法。</p>
<p>Ø  hybla适用于高延时、高丢包率的网络，比如卫星链路。</p>
<p>载入tcp_hybl模块 modprobe tcp_hybla</p>
<p>TCP拥塞控制算法对TCP传输速率的影响可很大。</p>
<h6 id="net-ipv4-tcp-abc-x3D-0"><a href="#net-ipv4-tcp-abc-x3D-0" class="headerlink" title="net.ipv4.tcp_abc &#x3D; 0"></a>net.ipv4.tcp_abc &#x3D; 0</h6><h6 id="net-ipv4-tcp-mtu-probing-x3D-0"><a href="#net-ipv4-tcp-mtu-probing-x3D-0" class="headerlink" title="net.ipv4.tcp_mtu_probing &#x3D; 0"></a>net.ipv4.tcp_mtu_probing &#x3D; 0</h6><h6 id="net-ipv4-tcp-fastopen"><a href="#net-ipv4-tcp-fastopen" class="headerlink" title="net.ipv4.tcp_fastopen"></a>net.ipv4.tcp_fastopen</h6><p> GoogleTFO特性，kernel 3.6以上版本支持，具体实现方法参考本文档 Google TFO特性。</p>
<h6 id="net-ipv4-tcp-base-mss-x3D-512"><a href="#net-ipv4-tcp-base-mss-x3D-512" class="headerlink" title="net.ipv4.tcp_base_mss&#x3D; 512"></a>net.ipv4.tcp_base_mss&#x3D; 512</h6><p>分组层路径MTU发现(MTU探测)中使用的search_low的初始值。如果允许MTU探测，这个初始值就是连接使用的初始MSS值。</p>
<h6 id="net-ipv4-route-min-adv-mss-x3D-256"><a href="#net-ipv4-route-min-adv-mss-x3D-256" class="headerlink" title="net.ipv4.route.min_adv_mss&#x3D; 256"></a>net.ipv4.route.min_adv_mss&#x3D; 256</h6><p>该文件表示最小的MSS（MaximumSegment Size）大小，取决于第一跳的路由器MTU。</p>
<h6 id="net-ipv4-tcp-workaround-signed-windows-x3D-0"><a href="#net-ipv4-tcp-workaround-signed-windows-x3D-0" class="headerlink" title="net.ipv4.tcp_workaround_signed_windows &#x3D; 0"></a>net.ipv4.tcp_workaround_signed_windows &#x3D; 0</h6><h6 id="net-ipv4-tcp-dma-copybreak-x3D-4096"><a href="#net-ipv4-tcp-dma-copybreak-x3D-4096" class="headerlink" title="net.ipv4.tcp_dma_copybreak&#x3D; 4096"></a>net.ipv4.tcp_dma_copybreak&#x3D; 4096</h6><pre><code>     下限.以字节为单位.socket 的大小将卸载到一个 dma 复制引擎.如果存在一个在系统和内核配置为使用 config_net_dma 选项。
</code></pre>
<h6 id="net-ipv4-tcp-max-ssthresh-x3D-0"><a href="#net-ipv4-tcp-max-ssthresh-x3D-0" class="headerlink" title="net.ipv4.tcp_max_ssthresh&#x3D; 0"></a>net.ipv4.tcp_max_ssthresh&#x3D; 0</h6><p>慢启动阶段，就是当前拥塞窗口值比慢启动阈值(snd_ssthresh)小的时候，所处的阶段就叫做慢启动阶段。</p>
<p>当我们收到一个新的ACK时，则会调用tcp_slow_start()这个函数，并且为拥塞窗口增加1.(Linux中拥塞窗口的值代表数据包的个数，而不是实际的发送字节数目。实际可以发送的字节数等于可以发送的数据包个数*MSS。)<br>直到慢启动阶段出现数据包的丢失。<br>而引入了tcp_max_ssthresh 这个参数后，则可以控制在慢启动阶段拥塞窗口增加的频度。</p>
<p>默认这个参数不打开，如果这个参数的值设置为1000，则当拥塞窗口值大于1000时，</p>
<p>则没收到一个ACK，并不再增加拥塞窗口一个单位了，而是约收到2个ACK才增加一个窗口单位。收到2ACK并不是决定值！！<br>需要根据当前的拥塞窗口值，tcp_max_ssthresh值进行判断。</p>
<h6 id="net-ipv4-tcp-thin-linear-timeouts-x3D-0"><a href="#net-ipv4-tcp-thin-linear-timeouts-x3D-0" class="headerlink" title="net.ipv4.tcp_thin_linear_timeouts&#x3D; 0"></a>net.ipv4.tcp_thin_linear_timeouts&#x3D; 0</h6><p>这个函数RTO超时的处理函数。如果是thin流，则不要新设RTO是原先的2倍。</p>
<h6 id="net-ipv4-tcp-thin-dupack-x3D-0"><a href="#net-ipv4-tcp-thin-dupack-x3D-0" class="headerlink" title="net.ipv4.tcp_thin_dupack&#x3D; 0"></a>net.ipv4.tcp_thin_dupack&#x3D; 0</h6><p>与tcp_thin_linear_timeouts同为快速重传算法参数</p>
<h6 id="net-core-netdev-max-backlog-x3D-300"><a href="#net-core-netdev-max-backlog-x3D-300" class="headerlink" title="net.core.netdev_max_backlog&#x3D;300"></a>net.core.netdev_max_backlog&#x3D;300</h6><p>进入包的最大设备队列.默认是300,对重负载服务器而言,该值太低,可调整到1000。</p>
<h6 id="ip-link-set-eth0-mtu-1500"><a href="#ip-link-set-eth0-mtu-1500" class="headerlink" title="ip link set eth0 mtu 1500"></a>ip link set eth0 mtu 1500</h6><p>设置网卡mtu大小。</p>
<p>IP 相关部份</p>
<h6 id="net-ipv4-ip-local-port-range-x3D-1024-65000"><a href="#net-ipv4-ip-local-port-range-x3D-1024-65000" class="headerlink" title="net.ipv4.ip_local_port_range &#x3D; 1024 65000"></a>net.ipv4.ip_local_port_range &#x3D; 1024 65000</h6><p>表示用于向外连接的端口范围。缺省情况下很小：32768到61000，改为1024到65000。</p>
<h6 id="net-ipv4-ip-conntrack-max-x3D-655360"><a href="#net-ipv4-ip-conntrack-max-x3D-655360" class="headerlink" title="net.ipv4.ip_conntrack_max &#x3D; 655360"></a>net.ipv4.ip_conntrack_max &#x3D; 655360</h6><p>在内核内存中netfilter可以同时处理的“任务”（连接跟踪条目）another</p>
<h6 id="避免放大攻击"><a href="#避免放大攻击" class="headerlink" title="避免放大攻击"></a>避免放大攻击</h6><p>net.ipv4.icmp_echo_ignore_broadcasts &#x3D; 1</p>
<h6 id="开启恶意icmp错误消息保护"><a href="#开启恶意icmp错误消息保护" class="headerlink" title="开启恶意icmp错误消息保护"></a>开启恶意icmp错误消息保护</h6><p>net.ipv4.icmp_ignore_bogus_error_responses &#x3D; 1</p>
<h6 id="开启SYN洪水攻击保护"><a href="#开启SYN洪水攻击保护" class="headerlink" title="开启SYN洪水攻击保护"></a>开启SYN洪水攻击保护</h6><p>net.ipv4.tcp_syncookies &#x3D; 1</p>
<h6 id="开启并记录欺骗，源路由和重定向包"><a href="#开启并记录欺骗，源路由和重定向包" class="headerlink" title="开启并记录欺骗，源路由和重定向包"></a>开启并记录欺骗，源路由和重定向包</h6><p>net.ipv4.conf.all.log_martians &#x3D; 1</p>
<p>net.ipv4.conf.default.log_martians &#x3D; 1</p>
<h6 id="处理无源路由的包"><a href="#处理无源路由的包" class="headerlink" title="处理无源路由的包"></a>处理无源路由的包</h6><p>net.ipv4.conf.all.accept_source_route &#x3D; 0</p>
<p>net.ipv4.conf.default.accept_source_route &#x3D; 0</p>
<h6 id="开启反向路径过滤"><a href="#开启反向路径过滤" class="headerlink" title="开启反向路径过滤"></a>开启反向路径过滤</h6><p>net.ipv4.conf.all.rp_filter &#x3D; 1</p>
<p>net.ipv4.conf.default.rp_filter &#x3D; 1</p>
<h6 id="确保无人能修改路由表"><a href="#确保无人能修改路由表" class="headerlink" title="确保无人能修改路由表"></a>确保无人能修改路由表</h6><p>net.ipv4.conf.all.accept_redirects &#x3D; 0</p>
<p>net.ipv4.conf.default.accept_redirects &#x3D; 0</p>
<p>net.ipv4.conf.all.secure_redirects &#x3D; 0</p>
<p>net.ipv4.conf.default.secure_redirects &#x3D; 0</p>
<h6 id="不充当路由器"><a href="#不充当路由器" class="headerlink" title="不充当路由器"></a>不充当路由器</h6><p>net.ipv4.ip_forward &#x3D; 0</p>
<p>net.ipv4.conf.all.send_redirects &#x3D; 0</p>
<p>net.ipv4.conf.default.send_redirects &#x3D; 0</p>
<h6 id="开启execshild"><a href="#开启execshild" class="headerlink" title="开启execshild"></a>开启execshild</h6><p>kernel.exec-shield &#x3D; 1</p>
<p>kernel.randomize_va_space &#x3D; 1</p>
<p>网络相关部份(&#x2F;sys)</p>
<h6 id="sys-x2F-class-x2F-net-x2F-eth0-x2F-statistics-rx-packets"><a href="#sys-x2F-class-x2F-net-x2F-eth0-x2F-statistics-rx-packets" class="headerlink" title="sys&#x2F;class&#x2F;net&#x2F;eth0&#x2F;statistics.rx_packets:"></a>sys&#x2F;class&#x2F;net&#x2F;eth0&#x2F;statistics.rx_packets:</h6><p>收到的数据包数据</p>
<h6 id="sys-x2F-class-x2F-net-x2F-eth0-x2F-statistics-tx-packets"><a href="#sys-x2F-class-x2F-net-x2F-eth0-x2F-statistics-tx-packets" class="headerlink" title="sys&#x2F;class&#x2F;net&#x2F;eth0&#x2F;statistics.tx_packets:"></a>sys&#x2F;class&#x2F;net&#x2F;eth0&#x2F;statistics.tx_packets:</h6><p>传输的数据包数量</p>
<h6 id="sys-x2F-class-x2F-net-x2F-eth0-x2F-statistics-rx-bytes"><a href="#sys-x2F-class-x2F-net-x2F-eth0-x2F-statistics-rx-bytes" class="headerlink" title="sys&#x2F;class&#x2F;net&#x2F;eth0&#x2F;statistics.rx_bytes:"></a>sys&#x2F;class&#x2F;net&#x2F;eth0&#x2F;statistics.rx_bytes:</h6><p>接收的字节数</p>
<h6 id="sys-x2F-class-x2F-net-x2F-eth0-x2F-statistics-tx-bytes"><a href="#sys-x2F-class-x2F-net-x2F-eth0-x2F-statistics-tx-bytes" class="headerlink" title="sys&#x2F;class&#x2F;net&#x2F;eth0&#x2F;statistics.tx_bytes:"></a>sys&#x2F;class&#x2F;net&#x2F;eth0&#x2F;statistics.tx_bytes:</h6><p>传输的字节数</p>
<h6 id="sys-x2F-class-x2F-net-x2F-eth0-x2F-statistics-rx-dropped"><a href="#sys-x2F-class-x2F-net-x2F-eth0-x2F-statistics-rx-dropped" class="headerlink" title="sys&#x2F;class&#x2F;net&#x2F;eth0&#x2F;statistics.rx_dropped:"></a>sys&#x2F;class&#x2F;net&#x2F;eth0&#x2F;statistics.rx_dropped:</h6><h6 id="收包时丢弃的数据包"><a href="#收包时丢弃的数据包" class="headerlink" title="收包时丢弃的数据包"></a>收包时丢弃的数据包</h6><h6 id="sys-x2F-class-x2F-net-x2F-eth0-x2F-statistics-tx-dropped"><a href="#sys-x2F-class-x2F-net-x2F-eth0-x2F-statistics-tx-dropped" class="headerlink" title="sys&#x2F;class&#x2F;net&#x2F;eth0&#x2F;statistics.tx_dropped:"></a>sys&#x2F;class&#x2F;net&#x2F;eth0&#x2F;statistics.tx_dropped:</h6><p>发包时丢弃的数据包</p>

    </div>

    
    
    
        

<div>
<ul class="post-copyright">
  <li class="post-copyright-author">
    <strong>本文作者： </strong>cachefish
  </li>
  <li class="post-copyright-link">
    <strong>本文链接：</strong>
    <a href="https://cachefish.github.io/2022/04/27/%E5%8F%82%E6%95%B0%E8%AE%BE%E7%BD%AE%E4%B8%8E%E8%B0%83%E6%95%B4/" title="linux tcp">https://cachefish.github.io/2022/04/27/参数设置与调整/</a>
  </li>
  <li class="post-copyright-license">
    <strong>版权声明： </strong>本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="noopener" target="_blank"><i class="fab fa-fw fa-creative-commons"></i>BY-NC-SA</a> 许可协议。转载请注明出处！
  </li>
</ul>
</div>


      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/linux-tcp/" rel="tag"># linux tcp</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2022/04/07/LAN/" rel="prev" title="LAN">
      <i class="fa fa-chevron-left"></i> LAN
    </a></div>
      <div class="post-nav-item">
    <a href="/2022/04/27/%E9%98%BB%E5%A1%9E%E6%8E%A7%E5%88%B6%E7%AE%97%E6%B3%95%E6%9F%A5%E8%AF%A2/" rel="next" title="linux tcp">
      linux tcp <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-4"><a class="nav-link" href="#Linux%E5%86%85%E6%A0%B8%E4%B8%AD%E7%9A%84TCP%E5%8F%82%E6%95%B0"><span class="nav-number">1.</span> <span class="nav-text">Linux内核中的TCP参数</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#x2F-proc-x2F-sys-x2F-net-x2F-ipv4-x2F-tcp-syn-retries"><span class="nav-number">1.0.1.</span> <span class="nav-text">&#x2F;proc&#x2F;sys&#x2F;net&#x2F;ipv4&#x2F;tcp_syn_retries</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#tcp-synack-retries"><span class="nav-number">1.0.2.</span> <span class="nav-text">tcp_synack_retries</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#tcp-keepalive-time"><span class="nav-number">1.0.3.</span> <span class="nav-text">tcp_keepalive_time</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#net-ipv4-tcp-window-scaling"><span class="nav-number">1.0.4.</span> <span class="nav-text">net.ipv4.tcp_window_scaling</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#net-ipv4-tcp-sack"><span class="nav-number">1.0.5.</span> <span class="nav-text">net.ipv4.tcp_sack</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#net-ipv4-tcp-timestamps-x3D-1"><span class="nav-number">1.0.6.</span> <span class="nav-text">net.ipv4.tcp_timestamps &#x3D; 1</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#net-ipv4-tcp-timestamps-x3D-0"><span class="nav-number">1.0.7.</span> <span class="nav-text">net.ipv4.tcp_timestamps&#x3D;0</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#net-ipv4-tcp-window-scaling-x3D-1"><span class="nav-number">1.0.8.</span> <span class="nav-text">net.ipv4.tcp_window_scaling &#x3D; 1</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#net-ipv4-tcp-sack-x3D-1"><span class="nav-number">1.0.9.</span> <span class="nav-text">net.ipv4.tcp_sack &#x3D; 1</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#net-ipv4-tcp-fack-x3D-1"><span class="nav-number">1.0.10.</span> <span class="nav-text">net.ipv4.tcp_fack &#x3D; 1</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#net-ipv4-tcp-retrans-collapse-x3D-1"><span class="nav-number">1.0.11.</span> <span class="nav-text">net.ipv4.tcp_retrans_collapse &#x3D; 1</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#net-ipv4-tcp-syn-retries-x3D-5"><span class="nav-number">1.0.12.</span> <span class="nav-text">net.ipv4.tcp_syn_retries &#x3D; 5</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#net-ipv4-tcp-synack-retries-x3D-5"><span class="nav-number">1.0.13.</span> <span class="nav-text">net.ipv4.tcp_synack_retries &#x3D; 5</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#net-ipv4-tcp-max-orphans-x3D-131072"><span class="nav-number">1.0.14.</span> <span class="nav-text">net.ipv4.tcp_max_orphans &#x3D; 131072</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#net-ipv4-tcp-max-tw-buckets-x3D-5000"><span class="nav-number">1.0.15.</span> <span class="nav-text">net.ipv4.tcp_max_tw_buckets &#x3D; 5000</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#net-ipv4-tcp-keepalive-time-x3D-7200"><span class="nav-number">1.0.16.</span> <span class="nav-text">net.ipv4.tcp_keepalive_time &#x3D; 7200</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#net-ipv4-tcp-keepalive-probes-x3D-9"><span class="nav-number">1.0.17.</span> <span class="nav-text">net.ipv4.tcp_keepalive_probes &#x3D; 9</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#net-ipv4-tcp-keepalive-intvl-x3D-75"><span class="nav-number">1.0.18.</span> <span class="nav-text">net.ipv4.tcp_keepalive_intvl &#x3D; 75</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#net-ipv4-tcp-retries1-x3D-3"><span class="nav-number">1.0.19.</span> <span class="nav-text">net.ipv4.tcp_retries1 &#x3D; 3</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#net-ipv4-tcp-retries2-x3D-15"><span class="nav-number">1.0.20.</span> <span class="nav-text">net.ipv4.tcp_retries2 &#x3D; 15</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#net-ipv4-tcp-orphan-retries"><span class="nav-number">1.0.21.</span> <span class="nav-text">net.ipv4.tcp_orphan_retries</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#net-ipv4-tcp-fin-timeout-x3D-30"><span class="nav-number">1.0.22.</span> <span class="nav-text">net.ipv4.tcp_fin_timeout &#x3D; 30</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#net-ipv4-tcp-tw-recycle-x3D-1"><span class="nav-number">1.0.23.</span> <span class="nav-text">net.ipv4.tcp_tw_recycle &#x3D; 1</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#net-ipv4-tcp-stdurg-x3D-0"><span class="nav-number">1.0.24.</span> <span class="nav-text">net.ipv4.tcp_stdurg &#x3D; 0</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#net-ipv4-tcp-rfc1337-x3D-0"><span class="nav-number">1.0.25.</span> <span class="nav-text">net.ipv4.tcp_rfc1337 &#x3D; 0</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#net-ipv4-tcp-max-syn-backlog-x3D-8192"><span class="nav-number">1.0.26.</span> <span class="nav-text">net.ipv4.tcp_max_syn_backlog &#x3D; 8192</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#net-ipv4-tcp-abort-on-overflow-x3D-0"><span class="nav-number">1.0.27.</span> <span class="nav-text">net.ipv4.tcp_abort_on_overflow &#x3D; 0</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#net-ipv4-tcp-syncookies-x3D-1"><span class="nav-number">1.0.28.</span> <span class="nav-text">net.ipv4.tcp_syncookies &#x3D; 1</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#net-ipv4-tcp-orphan-retries-x3D-0"><span class="nav-number">1.0.29.</span> <span class="nav-text">net.ipv4.tcp_orphan_retries &#x3D; 0</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#net-ipv4-tcp-sack-x3D-1-1"><span class="nav-number">1.0.30.</span> <span class="nav-text">net.ipv4.tcp_sack &#x3D; 1</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#net-ipv4-tcp-reordering-x3D-3"><span class="nav-number">1.0.31.</span> <span class="nav-text">net.ipv4.tcp_reordering &#x3D; 3</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#net-ipv4-tcp-ecn-x3D-2"><span class="nav-number">1.0.32.</span> <span class="nav-text">net.ipv4.tcp_ecn &#x3D; 2</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#net-ipv4-tcp-dsack-x3D-1"><span class="nav-number">1.0.33.</span> <span class="nav-text">net.ipv4.tcp_dsack &#x3D; 1</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#net-ipv4-tcp-mem-x3D-178368-237824-356736"><span class="nav-number">1.0.34.</span> <span class="nav-text">net.ipv4.tcp_mem &#x3D; 178368  237824     356736</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#net-ipv4-tcp-wmem-x3D-4096-16384-4194304"><span class="nav-number">1.0.35.</span> <span class="nav-text">net.ipv4.tcp_wmem &#x3D; 4096   16384       4194304</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#net-ipv4-tcp-rmem-x3D-4096-87380-4194304"><span class="nav-number">1.0.36.</span> <span class="nav-text">net.ipv4.tcp_rmem &#x3D; 4096     87380       4194304</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#net-ipv4-tcp-app-win-x3D-31"><span class="nav-number">1.0.37.</span> <span class="nav-text">net.ipv4.tcp_app_win &#x3D; 31</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#net-ipv4-tcp-adv-win-scale-x3D-2"><span class="nav-number">1.0.38.</span> <span class="nav-text">net.ipv4.tcp_adv_win_scale &#x3D; 2</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#net-ipv4-tcp-tw-reuse-x3D-1"><span class="nav-number">1.0.39.</span> <span class="nav-text">net.ipv4.tcp_tw_reuse &#x3D; 1</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#net-ipv4-tcp-frto-x3D-2"><span class="nav-number">1.0.40.</span> <span class="nav-text">net.ipv4.tcp_frto &#x3D; 2</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#net-ipv4-tcp-frto-response-x3D-0"><span class="nav-number">1.0.41.</span> <span class="nav-text">net.ipv4.tcp_frto_response &#x3D; 0</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#net-ipv4-tcp-slow-start-after-idle-x3D-1"><span class="nav-number">1.0.42.</span> <span class="nav-text">net.ipv4.tcp_slow_start_after_idle &#x3D; 1</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#net-ipv4-tcp-low-latency-x3D-0"><span class="nav-number">1.0.43.</span> <span class="nav-text">net.ipv4.tcp_low_latency &#x3D; 0</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#net-ipv4-tcp-no-metrics-save-x3D-0"><span class="nav-number">1.0.44.</span> <span class="nav-text">net.ipv4.tcp_no_metrics_save &#x3D; 0</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#net-ipv4-tcp-moderate-rcvbuf-x3D-1"><span class="nav-number">1.0.45.</span> <span class="nav-text">net.ipv4.tcp_moderate_rcvbuf &#x3D; 1</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#net-ipv4-tcp-tso-win-divisor-x3D-3"><span class="nav-number">1.0.46.</span> <span class="nav-text">net.ipv4.tcp_tso_win_divisor &#x3D; 3</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#net-ipv4-tcp-congestion-control-x3D-cubic"><span class="nav-number">1.0.47.</span> <span class="nav-text">net.ipv4.tcp_congestion_control &#x3D; cubic</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#net-ipv4-tcp-available-congestion-control-x3D-cubic-reno"><span class="nav-number">1.0.48.</span> <span class="nav-text">net.ipv4.tcp_available_congestion_control &#x3D; cubic reno</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#net-ipv4-tcp-allowed-congestion-control-x3D-cubic-reno"><span class="nav-number">1.0.49.</span> <span class="nav-text">net.ipv4.tcp_allowed_congestion_control &#x3D; cubic reno</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#net-ipv4-tcp-abc-x3D-0"><span class="nav-number">1.0.50.</span> <span class="nav-text">net.ipv4.tcp_abc &#x3D; 0</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#net-ipv4-tcp-mtu-probing-x3D-0"><span class="nav-number">1.0.51.</span> <span class="nav-text">net.ipv4.tcp_mtu_probing &#x3D; 0</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#net-ipv4-tcp-fastopen"><span class="nav-number">1.0.52.</span> <span class="nav-text">net.ipv4.tcp_fastopen</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#net-ipv4-tcp-base-mss-x3D-512"><span class="nav-number">1.0.53.</span> <span class="nav-text">net.ipv4.tcp_base_mss&#x3D; 512</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#net-ipv4-route-min-adv-mss-x3D-256"><span class="nav-number">1.0.54.</span> <span class="nav-text">net.ipv4.route.min_adv_mss&#x3D; 256</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#net-ipv4-tcp-workaround-signed-windows-x3D-0"><span class="nav-number">1.0.55.</span> <span class="nav-text">net.ipv4.tcp_workaround_signed_windows &#x3D; 0</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#net-ipv4-tcp-dma-copybreak-x3D-4096"><span class="nav-number">1.0.56.</span> <span class="nav-text">net.ipv4.tcp_dma_copybreak&#x3D; 4096</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#net-ipv4-tcp-max-ssthresh-x3D-0"><span class="nav-number">1.0.57.</span> <span class="nav-text">net.ipv4.tcp_max_ssthresh&#x3D; 0</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#net-ipv4-tcp-thin-linear-timeouts-x3D-0"><span class="nav-number">1.0.58.</span> <span class="nav-text">net.ipv4.tcp_thin_linear_timeouts&#x3D; 0</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#net-ipv4-tcp-thin-dupack-x3D-0"><span class="nav-number">1.0.59.</span> <span class="nav-text">net.ipv4.tcp_thin_dupack&#x3D; 0</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#net-core-netdev-max-backlog-x3D-300"><span class="nav-number">1.0.60.</span> <span class="nav-text">net.core.netdev_max_backlog&#x3D;300</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#ip-link-set-eth0-mtu-1500"><span class="nav-number">1.0.61.</span> <span class="nav-text">ip link set eth0 mtu 1500</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#net-ipv4-ip-local-port-range-x3D-1024-65000"><span class="nav-number">1.0.62.</span> <span class="nav-text">net.ipv4.ip_local_port_range &#x3D; 1024 65000</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#net-ipv4-ip-conntrack-max-x3D-655360"><span class="nav-number">1.0.63.</span> <span class="nav-text">net.ipv4.ip_conntrack_max &#x3D; 655360</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E9%81%BF%E5%85%8D%E6%94%BE%E5%A4%A7%E6%94%BB%E5%87%BB"><span class="nav-number">1.0.64.</span> <span class="nav-text">避免放大攻击</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E5%BC%80%E5%90%AF%E6%81%B6%E6%84%8Ficmp%E9%94%99%E8%AF%AF%E6%B6%88%E6%81%AF%E4%BF%9D%E6%8A%A4"><span class="nav-number">1.0.65.</span> <span class="nav-text">开启恶意icmp错误消息保护</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E5%BC%80%E5%90%AFSYN%E6%B4%AA%E6%B0%B4%E6%94%BB%E5%87%BB%E4%BF%9D%E6%8A%A4"><span class="nav-number">1.0.66.</span> <span class="nav-text">开启SYN洪水攻击保护</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E5%BC%80%E5%90%AF%E5%B9%B6%E8%AE%B0%E5%BD%95%E6%AC%BA%E9%AA%97%EF%BC%8C%E6%BA%90%E8%B7%AF%E7%94%B1%E5%92%8C%E9%87%8D%E5%AE%9A%E5%90%91%E5%8C%85"><span class="nav-number">1.0.67.</span> <span class="nav-text">开启并记录欺骗，源路由和重定向包</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E5%A4%84%E7%90%86%E6%97%A0%E6%BA%90%E8%B7%AF%E7%94%B1%E7%9A%84%E5%8C%85"><span class="nav-number">1.0.68.</span> <span class="nav-text">处理无源路由的包</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E5%BC%80%E5%90%AF%E5%8F%8D%E5%90%91%E8%B7%AF%E5%BE%84%E8%BF%87%E6%BB%A4"><span class="nav-number">1.0.69.</span> <span class="nav-text">开启反向路径过滤</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E7%A1%AE%E4%BF%9D%E6%97%A0%E4%BA%BA%E8%83%BD%E4%BF%AE%E6%94%B9%E8%B7%AF%E7%94%B1%E8%A1%A8"><span class="nav-number">1.0.70.</span> <span class="nav-text">确保无人能修改路由表</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E4%B8%8D%E5%85%85%E5%BD%93%E8%B7%AF%E7%94%B1%E5%99%A8"><span class="nav-number">1.0.71.</span> <span class="nav-text">不充当路由器</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E5%BC%80%E5%90%AFexecshild"><span class="nav-number">1.0.72.</span> <span class="nav-text">开启execshild</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#sys-x2F-class-x2F-net-x2F-eth0-x2F-statistics-rx-packets"><span class="nav-number">1.0.73.</span> <span class="nav-text">sys&#x2F;class&#x2F;net&#x2F;eth0&#x2F;statistics.rx_packets:</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#sys-x2F-class-x2F-net-x2F-eth0-x2F-statistics-tx-packets"><span class="nav-number">1.0.74.</span> <span class="nav-text">sys&#x2F;class&#x2F;net&#x2F;eth0&#x2F;statistics.tx_packets:</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#sys-x2F-class-x2F-net-x2F-eth0-x2F-statistics-rx-bytes"><span class="nav-number">1.0.75.</span> <span class="nav-text">sys&#x2F;class&#x2F;net&#x2F;eth0&#x2F;statistics.rx_bytes:</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#sys-x2F-class-x2F-net-x2F-eth0-x2F-statistics-tx-bytes"><span class="nav-number">1.0.76.</span> <span class="nav-text">sys&#x2F;class&#x2F;net&#x2F;eth0&#x2F;statistics.tx_bytes:</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#sys-x2F-class-x2F-net-x2F-eth0-x2F-statistics-rx-dropped"><span class="nav-number">1.0.77.</span> <span class="nav-text">sys&#x2F;class&#x2F;net&#x2F;eth0&#x2F;statistics.rx_dropped:</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E6%94%B6%E5%8C%85%E6%97%B6%E4%B8%A2%E5%BC%83%E7%9A%84%E6%95%B0%E6%8D%AE%E5%8C%85"><span class="nav-number">1.0.78.</span> <span class="nav-text">收包时丢弃的数据包</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#sys-x2F-class-x2F-net-x2F-eth0-x2F-statistics-tx-dropped"><span class="nav-number">1.0.79.</span> <span class="nav-text">sys&#x2F;class&#x2F;net&#x2F;eth0&#x2F;statistics.tx_dropped:</span></a></li></ol></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt=""
      src="/images/2229.jfif">
  <p class="site-author-name" itemprop="name"></p>
  <div class="site-description" itemprop="description">来世做春风，浪漫且自由</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">49</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">19</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">19</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/cachefish" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;cachefish" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="/cachefish@163g.com" title="E-Mail → cachefish@163g.com"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>
  <div class="cc-license motion-element" itemprop="license">
    <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" class="cc-opacity" rel="noopener" target="_blank"><img src="/images/cc-by-nc-sa.svg" alt="Creative Commons"></a>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 2021 – 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">cachecat</span>
</div>
<!--
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动
  </div>
-->

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","model":{"jsonPath":"/live2dw/assets/tororo.model.json"},"display":{"position":"left","width":240,"height":360},"mobile":{"show":false},"react":{"opacityDefault":1,"opacityOnHover":1},"log":false,"tagMode":false});</script></body>
</html>
